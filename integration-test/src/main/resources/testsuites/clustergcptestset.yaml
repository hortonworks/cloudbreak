name: "GCP cluster tests"
parallel: tests
threadCount: 4
parameters:
  gcpCredentialName: autotesting-clusters-gcp
listeners:
  - com.sequenceiq.it.cloudbreak.newway.listener.FirstLastTestExecutionBehaviour
  - com.sequenceiq.it.cloudbreak.newway.listener.StructuredEventsReporterOnFailingCluster
tests:
  - name: "gcp HDP315 base image edw analyitcs"
    preserveOrder: true
    parameters:
      clusterName: gcp-prewarm-edwanalytics
      provider: gcp
      blueprintName: "HDP 3.1.5 - EDW-Analytics: Apache Hive 2 LLAP, Apache Zeppelin"
      instancegroupName: worker
    classes:
      - name: com.sequenceiq.it.cloudbreak.ClusterTests
        includedMethods:
          - testCreateNewRegularCluster
          - testScaleCluster
          - testStopCluster
          - testStartCluster
          - testTerminateCluster
  - name: "gcp HDP315 base image datascience with disc encryption"
    preserveOrder: true
    parameters:
      clusterName: encrypted-gcp-prewarm-datasci
      provider: gcp
      blueprintName: "HDP 3.1.5 - Data Science: Apache Spark 2, Apache Zeppelin"
      instancegroupName: worker
    classes:
    - name: com.sequenceiq.it.cloudbreak.EncryptedClusterTests
      includedMethods:
      - testCreateNewEncryptedCluster
      - testScaleCluster
      - testStopCluster
      - testStartCluster
      - testTerminateCluster
