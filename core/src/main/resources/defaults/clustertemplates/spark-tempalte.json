{
  "name": "Super Apache Spark Template",
  "description": "Apache Spark is a fast and general-purpose cluster computing system. It provides high-level APIs in Java, Scala, Python and R, and an optimized engine that supports general execution graphs. It also supports a rich set of higher-level tools including Spark SQL for SQL and structured data processing, MLlib for machine learning, GraphX for graph processing, and Spark Streaming.",
  "type": "SPARK",
  "cloudPlatform": "AWS",
  "datalakeRequired": "REQUIRED",
  "stackTemplate": {
    "cluster": {
      "ambari": {
        "blueprintName": "Data Science: Apache Spark 2, Apache Zeppelin",
        "platformVersion": "HDP 2.6",
        "validateBlueprint": false,
        "gateway": {
          "enableGateway": true,
          "topologies": [
            {
              "topologyName": "dp-proxy",
              "exposedServices": [
                "AMBARI"
              ]
            }
          ],
          "ssoType": "NONE"
        }
      },
      "rdsConfigNames": []
    },
    "instanceGroups": [
      {
        "group": "master",
        "template": {
          "instanceType": "m5.2xlarge",
          "rootVolumeSize": 50,
          "volumeCount": 1,
          "volumeSize": 100,
          "volumeType": "standard",
          "parameters": {},
          "awsParameters": {
            "encryption": {
              "type": "NONE"
            }
          }
        },
        "nodeCount": 1,
        "type": "GATEWAY",
        "recoveryMode": "MANUAL",
        "parameters": {},
        "securityGroup": {
          "securityRules": [
            {
              "subnet": "0.0.0.0/0",
              "ports": "9443",
              "protocol": "tcp"
            },
            {
              "subnet": "0.0.0.0/0",
              "ports": "8443",
              "protocol": "tcp"
            },
            {
              "subnet": "0.0.0.0/0",
              "ports": "22",
              "protocol": "tcp"
            }
          ]
        }
      },
      {
        "group": "worker",
        "template": {
          "instanceType": "m5.xlarge",
          "rootVolumeSize": 50,
          "volumeCount": 1,
          "volumeSize": 100,
          "volumeType": "standard",
          "parameters": {},
          "awsParameters": {
            "encryption": {
              "type": "NONE"
            }
          }
        },
        "nodeCount": 1,
        "type": "CORE",
        "recoveryMode": "MANUAL",
        "parameters": {},
        "securityGroup": {
          "securityRules": [
            {
              "subnet": "0.0.0.0/0",
              "ports": "22",
              "protocol": "tcp"
            }
          ]
        }
      },
      {
        "group": "compute",
        "template": {
          "instanceType": "m5.xlarge",
          "rootVolumeSize": 50,
          "volumeCount": 1,
          "volumeSize": 100,
          "volumeType": "standard",
          "parameters": {},
          "awsParameters": {
            "encryption": {
              "type": "NONE"
            }
          }
        },
        "nodeCount": 0,
        "type": "CORE",
        "recoveryMode": "MANUAL",
        "parameters": {},
        "securityGroup": {
          "securityRules": [
            {
              "subnet": "0.0.0.0/0",
              "ports": "22",
              "protocol": "tcp"
            }
          ]
        }
      }
    ],
    "network": {
      "parameters": {},
      "subnetCIDR": "10.0.0.0/16"
    }
  }
}